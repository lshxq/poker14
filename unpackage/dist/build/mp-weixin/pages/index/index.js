(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{1258:function(e,t,r){"use strict";r.r(t);var n=r("29aa"),a=r("4011");for(var u in a)["default"].indexOf(u)<0&&function(e){r.d(t,e,(function(){return a[e]}))}(u);r("af2f");var i=r("f0c5"),c=Object(i["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=c.exports},"29aa":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,r=(e._self._c,e.__map(e.cards,(function(t,r){var n=e.__get_orig(t),a=e.__get_style([e.cardStyle(t,r)]);return{$orig:n,s0:a}}))),n=e.cards.length;e._isMounted||(e.e0=function(t){e.show.welcome=!1,e.newGame()}),e.$mp.data=Object.assign({},{$root:{l0:r,g0:n}})},a=[]},4011:function(e,t,r){"use strict";r.r(t);var n=r("74f9"),a=r.n(n);for(var u in n)["default"].indexOf(u)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(u);t["default"]=a.a},"4ebc":function(e,t,r){"use strict";(function(e,t){var n=r("4ea4");r("d5af");n(r("66fd"));var a=n(r("1258"));e.__webpack_require_UNI_MP_PLUGIN__=r,t(a.default)}).call(this,r("bc2e")["default"],r("543d")["createPage"])},"74f9":function(e,t,r){"use strict";(function(e){var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("2eee")),u=n(r("448a")),i=n(r("c973"));function c(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,u=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw u}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s={0:2,1:4,2:3,3:1,4:5},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random(),t=[];t.push({type:4,num:0,part:e}),t.push({type:4,num:1,part:e});for(var r=0;r<4;r++)for(var n=0;n<13;n++)t.push({type:r,num:n,part:e});return t},l=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(n&&n.type===e.type&&n.num===e.num&&n.part===e.part)return r}return-1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800;return new Promise((function(t){setTimeout(t,e)}))},h=function(e,t){var r,n=[],a=c(e);try{var u=function(){var e=r.value,a=t.find((function(t){return e.index===t.index}));a||n.push(e)};for(a.s();!(r=a.n()).done;)u()}catch(i){a.e(i)}finally{a.f()}return n},p={data:function(){return{show:{welcome:!0},cards:[],cardIndex:0,blue:[],blue2:[],bluePicked:[],ground:[],picked:!1,red:[],red2:[],red2Idx:0,redPicked:[],redCanPick:!1,redCanDrop:!1}},onLoad:function(){var t=function(t){var r=e.createInnerAudioContext();return r.src=t,r.autoplay=!1,r};this.audio=[t("/static/_1.m4a"),t("/static/_2.m4a"),t("/static/_3.m4a"),t("/static/_4.m4a"),t("/static/_5.m4a"),t("/static/_5.m4a"),t("/static/_6.m4a"),t("/static/_7.m4a"),t("/static/_8.m4a"),t("/static/_9.m4a"),t("/static/_10.m4a"),t("/static/_11.m4a"),t("/static/_12.m4a"),t("/static/_13.m4a"),t("/static/_14.m4a"),t("/static/_plus.m4a")],this.du=t("https://img.tukuppt.com/newpreview_music/09/03/80/5c8ae2d24455276952.mp3")},computed:{cardCntInRed2:function(){var e,t=0,r=c(this.red2);try{for(r.s();!(e=r.n()).done;){var n=e.value;n&&t++}}catch(a){r.e(a)}finally{r.f()}return t},mainPanelClass:function(){var e=this.show.welcome,t=[];return e&&t.push("show-welcome"),t},pickedSum:function(){var e=this,t=this.red2.reduce((function(t,r){return t+e.getCardValue(r)}),0);return t},pickedSum2:function(){var e=this.pickedSum,t=this.picked,r=0;return t&&(r=this.getCardValue(t)),r+e},redPickedValue:function(){var e,t=this.red2,r=this.picked,n=0,a=c(t);try{for(a.s();!(e=a.n()).done;){var u=e.value;u&&(n+=s[u.type])}}catch(i){a.e(i)}finally{a.f()}return r&&(n+=s[r.type]),n},redValue:function(){var e=this.redPicked,t=e.reduce((function(e,t){return t?e+s[t.type]:e}),0);return t},blueValue:function(){var e=this.bluePicked,t=e.reduce((function(e,t){return t?e+s[t.type]:e}),0);return t}},watch:{pickedSum2:function(e){this.redCanPick&&14!==e&&(this.picked=!1)}},methods:{getNextCard:function(){var e=this.cards,t=e[this.cardIndex];return this.cardIndex++,t},dropCard:function(e){var t=this;return(0,i.default)(a.default.mark((function e(){var r,n,u,i,d,o,l,p,v,b,k,x,m,g,y,C,_,w,P,I,S,V,N,M,O,A,D,j,$,J,G,T;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t,r.redCanDrop){e.next=3;break}return e.abrupt("return",!1);case 3:if(1===r.cardCntInRed2){e.next=6;break}return r.du.play(),e.abrupt("return",!1);case 6:r.redCanDrop=!1,r.redCanPick=!1,n=r.red2[0],n||(n=r.red2[1]),n&&(r.red=h(r.red,[n]),r.ground.push(n),r.red2=[]),u=r.red.length;case 12:if(!(u<4)){e.next=19;break}return r.red.push(r.getNextCard()),e.next=16,f();case 16:u++,e.next=12;break;case 19:i=t.blue,d=t.ground,o={},l=c(d);try{for(l.s();!(p=l.n()).done;)v=p.value,b=r.getCardValue(v),o[b]=o[b]||[],o[b].push(v)}catch(a){l.e(a)}finally{l.f()}k=[],x=function(e,t){var r=t[14-e];return!!(r&&r.length>0)&&(r.sort((function(e,t){return s[t.type]-s[e.type]})),r[0])},m=c(i);try{for(m.s();!(g=m.n()).done;)y=g.value,C=r.getCardValue(y),_=x(C,o),_&&k.push({blue:[y],picked:_})}catch(a){m.e(a)}finally{m.f()}for(w=0;w<i.length-1;w++)for(P=w+1;P<i.length;P++)I=i[w],S=i[P],V=r.getCardValue(I)+r.getCardValue(S),N=x(V,o),N&&k.push({blue:[I,S],picked:N});if(!(k.length>0)){e.next=65;break}M=k.map((function(e){var t=e.blue,r=e.picked,n=t.reduce((function(e,t){return e+s[t.type]}),0)+s[r.type];return{blue:t,picked:r,value:n}})),M.sort((function(e,t){return t.value-e.value})),console.log(M,"所有方案"),O=M[0],A=c(O.blue),e.prev=34,A.s();case 36:if((D=A.n()).done){e.next=47;break}return j=D.value,r.blue2.push(j),r.audio[r.getCardValue(j)].play(),e.next=42,f();case 42:return r.audio[14].play(),e.next=45,f();case 45:e.next=36;break;case 47:e.next=52;break;case 49:e.prev=49,e.t0=e["catch"](34),A.e(e.t0);case 52:return e.prev=52,A.f(),e.finish(52);case 55:return r.audio[r.getCardValue(O.picked)].play(),r.picked=O.picked,e.next=59,f(2e3);case 59:$=c(r.blue2);try{for($.s();!(J=$.n()).done;)G=J.value,r.bluePicked.push(G)}catch(a){$.e(a)}finally{$.f()}r.bluePicked.push(r.picked),r.blue=h(r.blue,r.blue2),r.blue2=[],r.ground=h(r.ground,[r.picked]);case 65:u=r.blue.length;case 66:if(!(u<5)){e.next=73;break}return r.blue.push(r.getNextCard()),e.next=70,f();case 70:u++,e.next=66;break;case 73:return T=r.blue[Math.floor(Math.random()*r.blue.length)],r.blue2.push(T),e.next=77,f();case 77:r.blue=h(r.blue,[T]),r.ground.push(T),r.blue2=[],r.picked=!1,r.redCanDrop=!0,r.redCanPick=!0;case 83:case"end":return e.stop()}}),e,null,[[34,49,52,55]])})))()},pickCard:function(){var e=this;return(0,i.default)(a.default.mark((function t(){var r,n,u,i,d,s,o,l,h,p,v,b,k,x;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.picked,n=e.red2,!r){t.next=24;break}e.redPicked.push(r),u=c(n);try{for(u.s();!(i=u.n()).done;)d=i.value,d&&e.redPicked.push(d)}catch(a){u.e(a)}finally{u.f()}s=[],o=c(e.red);try{for(h=function(){var t=l.value,r=e.red2.find((function(e){return e&&e.index===t.index}));r||s.push(t)},o.s();!(l=o.n()).done;)h()}catch(a){o.e(a)}finally{o.f()}e.red=s,p=[],v=c(e.ground);try{for(v.s();!(b=v.n()).done;)k=b.value,k.index!==r.index&&p.push(k)}catch(a){v.e(a)}finally{v.f()}e.ground=p,e.picked=!1,e.red2=[],x=e.red.length;case 16:if(!(x<5)){t.next=23;break}return t.next=19,f();case 19:e.red.push(e.getNextCard());case 20:x++,t.next=16;break;case 23:e.redCanPick=!1;case 24:case"end":return t.stop()}}),t)})))()},getCardValue:function(e){var t=e.num+1;return 4===e.type&&(t=5),t},cardClicked:function(e){if(!this.redCanPick&&!this.redCanDrop)return!1;var t=l(e,this.ground);if(!(l(e,this.red)>=0||t>=0))return!1;if(t>=0)this.getCardValue(e)+this.pickedSum===14&&(this.picked=e);else{var r=l(e,this.red2);if(this.redCanPick)if(r>=0){for(var n=[],a=0;a<this.red2.length;a++)a!=r&&this.red2[a]&&n.push(this.red2[a]);this.red2=n,this.red2Idx=1}else{var u=JSON.parse(JSON.stringify(this.red2));u[this.red2Idx]=e,this.red2=u,this.red2Idx++,this.red2Idx=this.red2Idx%2}else this.red2=[e]}},newGame:function(){var e=this;e.cards=function(e){var t=e.length-1;while(t>0){var r=Math.floor(Math.random()*t),n=e[t];e[t]=e[r],e[r]=n,t--}for(var a=0;a<e.length;a++)e[a].index=a;return e}([].concat((0,u.default)(o(1)),(0,u.default)(o(2)))),e.red=[],e.blue=[],e.ground=[],e.cardIndex=0,setTimeout((function(){var t=function(){var t=(0,i.default)(a.default.mark((function t(){var r,n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<4)){t.next=11;break}return t.next=4,f(800);case 4:return e.red.push(e.getNextCard()),t.next=7,f(800);case 7:e.blue.push(e.getNextCard());case 8:r++,t.next=1;break;case 11:n=0;case 12:if(!(n<4)){t.next=19;break}return t.next=15,f(800);case 15:e.ground.push(e.getNextCard());case 16:n++,t.next=12;break;case 19:e.redCanPick=!0,e.redCanDrop=!0;case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),100)},cardStyle:function(e,t){var r=this.red,n=this.blue,a=this.ground,u=400,i=600,c=!1,d=l(e,r);d>=0&&(u=1e3,i=10+140*d,c=!0,l(e,this.red2)>=0&&(u=950));var s=l(e,n);s>=0&&(u=10,i=10+140*s,c=!0,l(e,this.blue2)>=0&&(u=60));var o=l(e,a),f=!1;if(o>=0){c=!0;var h=Math.floor(o/4),p=o%4;u=400+140*h,i=10+140*p,this.picked&&this.picked.index===e.index&&(u-=50),f=!0}l(e,this.redPicked)>=0&&(u=2100,i=900),l(e,this.bluePicked)>=0&&(u=-300,i=-800);var v={"background-position":c?"".concat(1770-136*e.num,"rpx ").concat(1028-205*e.type,"rpx"):"1960rpx 400rpx",top:"".concat(u,"rpx"),left:"".concat(i,"rpx"),"z-index":10001+t};if(f&&this.redCanPick){var b=this.red2;b.length>0&&(this.getCardValue(e)+this.pickedSum===14||(v.filter="brightness(.5)"))}return d>=0&&(this.redCanDrop||this.redCanPick||(v.filter="brightness(.5)")),this.picked&&this.picked.index===e.index&&(v.transform="scale(1.1)",v["z-index"]=99999999),v}}};t.default=p}).call(this,r("543d")["default"])},8872:function(e,t,r){},af2f:function(e,t,r){"use strict";var n=r("8872"),a=r.n(n);a.a}},[["4ebc","common/runtime","common/vendor"]]]);